@: Floobits blog post about intellij


Why I switched from Vim to IntelliJ IDEA

In 2012 I went to a Go meet-up in San Francisco and there someone asked for a show of hands of who used Vim and nearly everyone in the group raised their hand, including myself. The clear victory my favorite editor enjoyed at the meet-up left me feeling pretty good. Vim is a popular editor. My journey with Vim began in 2001 when someone suggested I try it. I was developing on Windows and was unfamiliar with consoles and command lines. I had not actually ever heard of Vim before. My first few minutes were a terrible experience and I quickly gave up. I tried it several times over the next few years and in 2006 I finally dedicated myself to learning this daunting software, held in such high esteem by developers I respected. After 30 days I was hooked. I felt like I had gained esoteric super powers, that I had mastered a rite of passage, conquered a challenge. In the minds of Vim users, Vim carries with it a bit of prestige, deserved or not. A few years ago, when as a candidate I was scheduling an in person technical interview I was asked what editor I would be using I was not embarrassed to tell them Vim. This has all changed for me after I joined Floobits.

The Problem Of Vim’s Extensibility

Floobits builds plugins for editors that let you program with others in real time. Each person connected to a workspace will see other people’s cursor in their own editor, and the changes they are making as they type. When I joined Geoff and Matt had already invested a lot of time into building this for Vim but it didn’t work for me. Given that I wrote code in Vim and that I would have to be connected to workspaces so that we could pair program together using our own product, this was a problem. We wasted several months trying to get our plugin for Vim to work. For some people it might actually work, provided you don’t use the leader key. The problem is that Vim blocks on everything. It is not easy to keep a TCP connection open in a single thread without blocking the GUI when there is no event loop, no mechanism to have code run at regular intervals. There are half-baked ways to achieve this but they are buggy and easily broken by other plugins or various ways that people configure their vim. Such as using a leader key.

Attempts to push changes into Vim’s source code were unsuccessful. Vim’s code base isn’t pretty, and as we discovered not suited for asynchronous execution as Vim’s state would break. References to unexpected null pointers buried deep inside Vim would segfault the editor. The process of interacting with Vim developers was not very pleasant. There was a great deal of resistance to our changes. Most Vim users probably would not care about how bad Vim’s source code is, but I felt it certainly put a bit of a ding on this esteem I felt for it for all this time. The interactions with Vim developers were also disappointing.

As a Vim user you may not care, but cannot deny that if someone wrote an editor with hopes of it becoming popular in 2015 you can be sure they would write it in a way that allowed asynchronous plugin code to work. There was little hope of this ever being possible in Vim. NeoVim strives to change this, but for me at least it may be too late.

The Myth Of Greater Productivity in Vim

I continued to use Vim when possible though I transformed from being a Vim cheerleader to mocking myself for my choice of editor. In order to use our product I rotated through emacs, Sublime Text and IntelliJ IDEA, trying each. In IntelliJ IDEA I discovered that it was possible for even higher productivity than I found in Vim. For example, Vim makes searching for text very easy, for example hitting the \* key while in normal mode would highlight other instances of the word under your cursor and move you to the next instance. Very useful, but in IntelliJ IDEA you can do that and more. You can go to the initial definition or declaration of a variable with a quick key combination. IntelliJ actually understands your code. It isn’t just doing a dumb text search, if you were to search for uses of a commonly named variable (say `i`) it would know to only look in the scope it was valid where as in Vim it would send you on a wild goose chase through the entire file for every instance of a variable named i. 

Similarly find and replace is very powerful in Vim, but in IntelliJ you can refactor code and it intelligently makes change were it ought to, and not just based on a dumb text search that you have to manually manage. Multiple cursors also let you make multiple changes in Vim like fashion all at once. Over time I have found more and more reasons to use an IntelliJ based editor when I would previously might have wanted to use Vim. The amazing plugin system is one of them. Outside of Floobits I have never written a plugin for an editor before and in just a year of using it I have already written two personal plugins for IntelliJ. And IntelliJ IDEA helps you be productive in ways outside of writing code. IntelliJ allows you to debug inside the editor. It excels at displaying information about testing and code coverage. It’s faster and better at syntax highlighting, especially large blocks of text. IntelliJ lets you see your code at a higher level, including its structure and architecture, and at greater dimensions than just the frame of your terminal window.

Conclusion

I still use Vim regularly. I use it to edit files that are not in a project. That’s one of the biggest drawbacks in using IntelliJ is that IntelliJ pretty much requires you to edit code that is part of a project. Editing configuration files or files on a remote server is something that an IDE is just isn’t good at. I fear my many years investment in Vim are starting to lose their value, my Vim skills may be fading but I know that I’m trading up. Vim does not make you a good programmer and using Vim doesn’t mean you are a good programmer. It just means you know how to use Vim. A sense of pride and eliteness is undeserved, a thing I feel pretty silly about now in retrospect. Especially since I have discovered that I could be more productive with an editor with advanced features and a graphical interface. I have to move my mouse a bit more now, but I still get things done.

At a Meteor devshop I heard a meteor developer say something that has rung true for me since then. He said something along the lines that the biggest value your editor gives you shouldn’t be that you it helps you write code faster. Writing code at breakneck speeds isn’t what writing good code should be about. With IntelliJ I have an editor that’s great at writing code but also does so much more.